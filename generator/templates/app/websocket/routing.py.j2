"""
WebSocket routing for {{ app_name }} app.

Generated by Django Enhanced Generator on {{ now().strftime('%Y-%m-%d %H:%M:%S') }}.
"""
from django.urls import re_path, path
from channels.routing import URLRouter

from .consumers import {{ consumers|map(attribute='name')|join(', ') }}, NotificationConsumer

websocket_urlpatterns = [
    {% for consumer in consumers %}
    re_path(
        r'ws/{{ app_name }}/{{ consumer.model_name|lower }}/(?P<room_name>\w+)/$',
    {{ consumer.name }}.as_asgi()
),
{% endfor %}

# User notifications
path('ws/notifications/', NotificationConsumer.as_asgi()),

    # Generic model updates
{% for model in models %}
path(
    'ws/{{ app_name }}/{{ model.name|lower }}/',
    {{ model.name }}Consumer.as_asgi()
),
{% endfor %}
]

# URL routing configuration
routing = URLRouter(websocket_urlpatterns)